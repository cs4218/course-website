<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="generator" content="MarkBind 4.0.2">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>CS3203</title>
    <link rel="stylesheet" href="../../markbind/css/bootstrap.min.css">
    <link rel="stylesheet" href="../../markbind/fontawesome/css/all.min.css">
    <link rel="stylesheet" href="../../markbind/glyphicons/css/bootstrap-glyphicons.min.css">
    <link rel="stylesheet" href="../../markbind/css/octicons.css">
    <link rel="stylesheet" href="../../markbind/material-icons/material-icons.css">
    <link rel="stylesheet" href="../../markbind/css/codeblock-light.min.css"><link rel="stylesheet" href="../../markbind/css/markbind.min.css"><script src="../../markbind/js/polyfill.min.js"></script>
    <script src="../../markbind/js/vue.min.js"></script>
    <script src="../../markbind/js/markbind.min.js"></script>
    <script src="autotester-testing.page-vue-render.js"></script>
    <script src="../../markbind/js/jquery.min.js"></script><link rel="stylesheet" href="/course-website/plugins/markbind-plugin-anchors/markbind-plugin-anchors.css"><link rel="stylesheet" href="/course-website/plugins/markbind-plugin-tree/markbind-plugin-tree.css">
    
  <link rel="stylesheet" href="/course-website/stylesheets/main.css">
</head>
<script>
  const baseUrl = '/course-website'
</script>
<body  data-bs-spy="scroll" data-bs-target="#mb-page-nav" data-bs-offset="100" >
<div id="app" data-server-rendered="true"><header sticky=""><div data-v-15113a2f><nav class="navbar navbar-expand-md d-print-none navbar-dark bg-dark" data-v-15113a2f><div class="container-fluid" data-v-15113a2f><div class="navbar-left" data-v-15113a2f><a href="/course-website/index.html" title="Home" class="navbar-brand" data-v-15113a2f>CS3203</a></div> <div class="navbar-default" data-v-15113a2f><ul class="navbar-nav me-auto mt-2 mt-lg-0" data-v-15113a2f></ul></div> <ul class="navbar-nav navbar-right" data-v-15113a2f><li data-v-15113a2f><form class="navbar-form" data-v-15113a2f><div class="dropdown" style="position:relative;" data-v-2955e59c><input data-bs-toggle="dropdown" type="text" placeholder="Search" autocomplete="off" value="" class="form-control" data-v-2955e59c> <div class="form-control placeholder-div-hidden" data-v-2955e59c>
      Search
    </div> <ul class="dropdown-menu search-dropdown-menu d-none dropdown-menu-end" data-v-2955e59c></ul></div></form></li></ul></div></nav> <div class="lower-navbar-container" style="display:none;" data-v-15113a2f><!----> <!----></div></div></header> <div id="flex-body"><nav id="site-nav" data-v-e8c82f88><div class="site-nav-top" data-v-e8c82f88><div class="fw-bold mb-2" style="font-size:1.25rem;" data-v-e8c82f88>Content</div></div> <div class="nav-component slim-scroll" data-v-e8c82f88><div class="site-nav-root"><ul class="site-nav-list site-nav-list-root" data-v-e8c82f88><li data-v-e8c82f88><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-0" data-v-e8c82f88><a href="/course-website/index.html" data-v-e8c82f88>Home üè†</a></div></li> <li data-v-e8c82f88><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-0" data-v-e8c82f88><a href="/course-website/contents/update-history.html" data-v-e8c82f88>Update History</a></div></li> <li data-v-e8c82f88><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-0" data-v-e8c82f88><a href="/course-website/contents/team-formation.html" data-v-e8c82f88>Team Formation</a></div></li> <li data-v-e8c82f88><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-0" data-v-e8c82f88>Tools 

<i onclick="handleSiteNavClick(this.parentNode, false); event.stopPropagation();" class="site-nav-dropdown-btn-icon site-nav-rotate-icon" data-v-e8c82f88><span aria-hidden="true" class="glyphicon glyphicon-menu-down" data-v-e8c82f88></span></i></div><ul class="site-nav-dropdown-container site-nav-dropdown-container-open site-nav-list" data-v-e8c82f88><li data-v-e8c82f88><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-1" data-v-e8c82f88><a href="/course-website/contents/tools/introduction.html" data-v-e8c82f88>Introduction</a></div></li> <li data-v-e8c82f88><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-1" data-v-e8c82f88><a href="/course-website/contents/tools/downloads.html" data-v-e8c82f88>Downloads</a></div></li> <li data-v-e8c82f88><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-1" data-v-e8c82f88><a href="/course-website/contents/tools/windows-spa.html" data-v-e8c82f88>Windows Startup SPA Solution</a></div></li> <li data-v-e8c82f88><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-1" data-v-e8c82f88><a href="/course-website/contents/tools/cross-platform-spa.html" data-v-e8c82f88>Cross-platform Startup SPA Solution</a></div></li> <li data-v-e8c82f88><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-1" data-v-e8c82f88><a href="/course-website/contents/tools/autotester-testing.html" data-v-e8c82f88>Autotester Integration and Testing</a></div></li> <li data-v-e8c82f88><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-1" data-v-e8c82f88><a href="/course-website/contents/tools/version-control-repository.html" data-v-e8c82f88>Version Control System and Code Repository</a></div></li> <li data-v-e8c82f88><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-1" data-v-e8c82f88><a href="/course-website/contents/tools/project-management.html" data-v-e8c82f88>Project Management</a></div></li> <li data-v-e8c82f88><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-1" data-v-e8c82f88><a href="/course-website/contents/tools/continuous-integration.html" data-v-e8c82f88>Continuous Integration</a></div></li></ul></li> <li data-v-e8c82f88><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-0" data-v-e8c82f88>SPA Requirements - Basic SPA 

<i onclick="handleSiteNavClick(this.parentNode, false); event.stopPropagation();" class="site-nav-dropdown-btn-icon site-nav-rotate-icon" data-v-e8c82f88><span aria-hidden="true" class="glyphicon glyphicon-menu-down" data-v-e8c82f88></span></i></div><ul class="site-nav-dropdown-container site-nav-dropdown-container-open site-nav-list" data-v-e8c82f88><li data-v-e8c82f88><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-1" data-v-e8c82f88><a href="/course-website/contents/basic-spa-requirements/motivation.html" data-v-e8c82f88>Motivation</a></div></li> <li data-v-e8c82f88><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-1" data-v-e8c82f88><a href="/course-website/contents/basic-spa-requirements/simple-programming.html" data-v-e8c82f88>SIMPLE Programming Language</a></div></li> <li data-v-e8c82f88><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-1" data-v-e8c82f88><a href="/course-website/contents/basic-spa-requirements/abstract-syntax-tree.html" data-v-e8c82f88>Abstract Syntax Tree</a></div></li> <li data-v-e8c82f88><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-1" data-v-e8c82f88><a href="/course-website/contents/basic-spa-requirements/design-entities.html" data-v-e8c82f88>Design Entities</a></div></li> <li data-v-e8c82f88><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-1" data-v-e8c82f88><a href="/course-website/contents/basic-spa-requirements/design-abstractions.html" data-v-e8c82f88>Design Abstractions</a></div></li> <li data-v-e8c82f88><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-1" data-v-e8c82f88>Program Query Language (PQL) 

<i onclick="handleSiteNavClick(this.parentNode, false); event.stopPropagation();" class="site-nav-dropdown-btn-icon site-nav-rotate-icon" data-v-e8c82f88><span aria-hidden="true" class="glyphicon glyphicon-menu-down" data-v-e8c82f88></span></i></div><ul class="site-nav-dropdown-container site-nav-dropdown-container-open site-nav-list" data-v-e8c82f88><li data-v-e8c82f88><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-2" data-v-e8c82f88><a href="/course-website/contents/basic-spa-requirements/program-query-language/introduction.html" data-v-e8c82f88>Introduction</a></div></li> <li data-v-e8c82f88><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-2" data-v-e8c82f88>Further PQL Discussion 

<i onclick="handleSiteNavClick(this.parentNode, false); event.stopPropagation();" class="site-nav-dropdown-btn-icon site-nav-rotate-icon" data-v-e8c82f88><span aria-hidden="true" class="glyphicon glyphicon-menu-down" data-v-e8c82f88></span></i></div><ul class="site-nav-dropdown-container site-nav-dropdown-container-open site-nav-list" data-v-e8c82f88><li data-v-e8c82f88><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-3" data-v-e8c82f88><a href="/course-website/contents/basic-spa-requirements/program-query-language/such-that-clause.html" data-v-e8c82f88>Such-That Clauses</a></div></li> <li data-v-e8c82f88><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-3" data-v-e8c82f88><a href="/course-website/contents/basic-spa-requirements/program-query-language/assign-pattern-clause.html" data-v-e8c82f88>Assign Pattern Clauses</a></div></li></ul></li> <li data-v-e8c82f88><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-2" data-v-e8c82f88><a href="/course-website/contents/basic-spa-requirements/program-query-language/example-queries.html" data-v-e8c82f88>Example queries</a></div></li></ul></li> <li data-v-e8c82f88><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-1" data-v-e8c82f88><a href="/course-website/contents/basic-spa-requirements/intended-behaviour-format-results.html" data-v-e8c82f88>Intended Behaviour &amp; Format of Results</a></div></li> <li data-v-e8c82f88><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-1" data-v-e8c82f88><a href="/course-website/contents/basic-spa-requirements/faq.html" data-v-e8c82f88>FAQ</a></div></li></ul></li> <li data-v-e8c82f88><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-0" data-v-e8c82f88>SPA Requirements - Advanced SPA 

<i onclick="handleSiteNavClick(this.parentNode, false); event.stopPropagation();" class="site-nav-dropdown-btn-icon site-nav-rotate-icon" data-v-e8c82f88><span aria-hidden="true" class="glyphicon glyphicon-menu-down" data-v-e8c82f88></span></i></div><ul class="site-nav-dropdown-container site-nav-dropdown-container-open site-nav-list" data-v-e8c82f88><li data-v-e8c82f88><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-1" data-v-e8c82f88><a href="/course-website/contents/advanced-spa-requirements/cfg.html" data-v-e8c82f88>Control Flow Graph</a></div></li> <li data-v-e8c82f88><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-1" data-v-e8c82f88><a href="/course-website/contents/advanced-spa-requirements/design-abstractions.html" data-v-e8c82f88>Design Abstractions</a></div></li> <li data-v-e8c82f88><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-1" data-v-e8c82f88>PQL 

<i onclick="handleSiteNavClick(this.parentNode, false); event.stopPropagation();" class="site-nav-dropdown-btn-icon site-nav-rotate-icon" data-v-e8c82f88><span aria-hidden="true" class="glyphicon glyphicon-menu-down" data-v-e8c82f88></span></i></div><ul class="site-nav-dropdown-container site-nav-dropdown-container-open site-nav-list" data-v-e8c82f88><li data-v-e8c82f88><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-2" data-v-e8c82f88><a href="/course-website/contents/advanced-spa-requirements/pql.html" data-v-e8c82f88>Introduction</a></div></li> <li data-v-e8c82f88><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-2" data-v-e8c82f88><a href="/course-website/contents/advanced-spa-requirements/PQL/select-clauses.html" data-v-e8c82f88>Select Clauses</a></div></li> <li data-v-e8c82f88><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-2" data-v-e8c82f88><a href="/course-website/contents/advanced-spa-requirements/PQL/such-that-clauses.html" data-v-e8c82f88>Such-That Clauses</a></div></li> <li data-v-e8c82f88><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-2" data-v-e8c82f88><a href="/course-website/contents/advanced-spa-requirements/PQL/pattern-clauses.html" data-v-e8c82f88>Pattern Clauses</a></div></li> <li data-v-e8c82f88><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-2" data-v-e8c82f88><a href="/course-website/contents/advanced-spa-requirements/PQL/with-clauses.html" data-v-e8c82f88>With Clauses</a></div></li> <li data-v-e8c82f88><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-2" data-v-e8c82f88><a href="/course-website/contents/advanced-spa-requirements/PQL/multi-clauses.html" data-v-e8c82f88>Multi Clauses</a></div></li> <li data-v-e8c82f88><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-2" data-v-e8c82f88><a href="/course-website/contents/advanced-spa-requirements/PQL/example-queries.html" data-v-e8c82f88>Example Queries</a></div></li></ul></li> <li data-v-e8c82f88><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-1" data-v-e8c82f88><a href="/course-website/contents/advanced-spa-requirements/format-res.html" data-v-e8c82f88>Format of Results</a></div></li></ul></li> <li data-v-e8c82f88><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-0" data-v-e8c82f88>Project Requirements - Milestone 1 

<i onclick="handleSiteNavClick(this.parentNode, false); event.stopPropagation();" class="site-nav-dropdown-btn-icon site-nav-rotate-icon" data-v-e8c82f88><span aria-hidden="true" class="glyphicon glyphicon-menu-down" data-v-e8c82f88></span></i></div><ul class="site-nav-dropdown-container site-nav-dropdown-container-open site-nav-list" data-v-e8c82f88><li data-v-e8c82f88><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-1" data-v-e8c82f88><a href="/course-website/contents/project-requirements-1/scope.html" data-v-e8c82f88>Scope</a></div></li> <li data-v-e8c82f88><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-1" data-v-e8c82f88><a href="/course-website/contents/project-requirements-1/admin.html" data-v-e8c82f88>Administrative Matters</a></div></li> <li data-v-e8c82f88><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-1" data-v-e8c82f88><a href="/course-website/contents/project-requirements-1/tips.html" data-v-e8c82f88>Tips</a></div></li></ul></li> <!----></ul> <ul class="site-nav-list site-nav-list-root" data-v-e8c82f88><li data-v-e8c82f88><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-0" data-v-e8c82f88>Project Requirements - Guidelines 

<i onclick="handleSiteNavClick(this.parentNode, false); event.stopPropagation();" class="site-nav-dropdown-btn-icon site-nav-rotate-icon" data-v-e8c82f88><span aria-hidden="true" class="glyphicon glyphicon-menu-down" data-v-e8c82f88></span></i></div><ul class="site-nav-dropdown-container site-nav-dropdown-container-open site-nav-list" data-v-e8c82f88><li data-v-e8c82f88><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-1" data-v-e8c82f88>Code Submission Guidelines 

<i onclick="handleSiteNavClick(this.parentNode, false); event.stopPropagation();" class="site-nav-dropdown-btn-icon site-nav-rotate-icon" data-v-e8c82f88><span aria-hidden="true" class="glyphicon glyphicon-menu-down" data-v-e8c82f88></span></i></div><ul class="site-nav-dropdown-container site-nav-dropdown-container-open site-nav-list" data-v-e8c82f88><li data-v-e8c82f88><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-2" data-v-e8c82f88><a href="/course-website/contents/project-requirement-guidelines/csg.html" data-v-e8c82f88>Introduction</a></div></li> <li data-v-e8c82f88><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-2" data-v-e8c82f88><a href="/course-website/contents/project-requirement-guidelines/sub-format-check.html" data-v-e8c82f88>Submission Format Checker</a></div></li></ul></li> <li data-v-e8c82f88><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-1" data-v-e8c82f88><a href="/course-website/contents/project-requirement-guidelines/rsg.html" data-v-e8c82f88>Report Submission Guidelines</a></div></li> <li data-v-e8c82f88><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-1" data-v-e8c82f88><a href="/course-website/contents/project-requirement-guidelines/cdg.html" data-v-e8c82f88>Code Demonstration Guidelines</a></div></li> <li data-v-e8c82f88><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-1" data-v-e8c82f88><a href="/course-website/contents/project-requirement-guidelines/opg.html" data-v-e8c82f88>Oral Presentation Guidelines</a></div></li> <li data-v-e8c82f88><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-1" data-v-e8c82f88><a href="/course-website/contents/project-requirement-guidelines/gg.html" data-v-e8c82f88>Grading Guidelines</a></div></li></ul></li> <li data-v-e8c82f88><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-0" data-v-e8c82f88><a href="/course-website/contents/reference.html" data-v-e8c82f88>Reference Books</a></div></li> <!----></ul></div></div> <!----></nav> <div id="content-wrapper"><br> <p>This section covers the required integration and subsequent testing that you should have in your AutoTester project.</p> <p>For platform-specific build-and-install instructions, please refer to <a href="/course-website/contents/tools/windows-spa.html">Windows Visual Studio Startup SPA Solution GitHub Wiki Page</a> and <a href="/course-website/contents/tools/cross-platform-spa.html">Cross-platform Startup SPA Solution GitHub Wiki Page</a> respectively.</p> <h1 id="1-autotester"><span id="1-autotester" class="anchor"></span><a href="#1-autotester"></a>1. AutoTester<a href="#1-autotester" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h1> <p>Your SPA implementation will be tested using an automated tester called AutoTester. The AutoTester is implemented in C++17, and it is integrated in your SPA Solution Project. The system testing during project evaluation is done using the AutoTester. Hence, integrate and use AutoTester as early as possible!</p> <blockquote><p>Note that there are some features from previous versions of C++ that are removed and/or deprecated. Please avoid using these removed/deprecated features. However, if your team wishes to use a previous version of C++, be sure to ensure that you configure the previous version explictly in the compilation.</p></blockquote> <blockquote><p><strong>Q: Where is the Autotester main function?</strong></p> <p><strong>A:</strong> You would not be able to find the main function in SPA Solution Project. You can think of it in this manner - the main function is in the client's code and the implementation is hidden from you. Your code will interface with the autotester via a well-defined API. In short, you should not change the AutoTester source files to add a method main, instead implement the API found in <code class="line-numbers hljs inline no-lang">TestWrapper.h</code>. See <a href="/course-website/contents/tools/autotester-testing.html#1-5-integration-between-spa-and-autotester">1.5. Integration between SPA and AutoTester</a> for more details.</p></blockquote> <h2 id="1-1-running-the-autotester"><span id="1-1-running-the-autotester" class="anchor"></span><a href="#11-running-the-autotester"></a>1.1. Running the AutoTester<a href="#1-1-running-the-autotester" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h2> <pre><code class="line-numbers">&lt;Autotester-binary&gt; &lt;SIMPLE-source&gt; &lt;SIMPLE-queries&gt; &lt;output-xml&gt; -f &lt;query-id&gt;
</code></pre> <p>The AutoTester binary accepts three arguments and one optional argument:</p> <ol><li><code class="line-numbers hljs inline no-lang">&lt;SIMPLE-source&gt;</code> The file path of the SIMPLE source. This file contains the SIMPLE source code that will be analyzed in test format.</li> <li><code class="line-numbers hljs inline no-lang">&lt;SIMPLE-queries&gt;</code> The file path containing the queries. This file contains the queries that have to be evaluated based on the SIMPLE source code. The file may contain multiple queries, one after another.</li> <li><code class="line-numbers hljs inline no-lang">&lt;output-xml&gt;</code> The file path of the output xml from this run.</li> <li><code class="line-numbers hljs inline no-lang">-f &lt;query-id&gt;</code> The specific Query-Id from which the tests will start the run from, referring to the query ids from <code class="line-numbers hljs inline no-lang">&lt;SIMPLE-queries&gt;</code> file.</li></ol> <p>The paths are dependent on the platform. After navigating to the location of the AutoTester, you can run AutoTester against the sample source code and queries. For example:</p> <ul><li>Mac/Linux via CMake: <code class="line-numbers hljs inline no-lang">./autotester ../../../tests/Sample_source.txt ../../../tests/Sample_queries.txt ../../../tests/out.xml</code></li> <li>Windows via VS: <code class="line-numbers hljs inline no-lang">.\AutoTester.exe ..\Tests\Sample_source.txt ..\Tests\Sample_queries.txt ..\Tests\out.xml</code></li></ul> <h2 id="1-2-format-of-pql-queries-and-amp-its-results"><span id="1-2-format-of-pql-queries-and-amp-its-results" class="anchor"></span><a href="#12-format-of-pql-queries--its-results"></a>1.2 Format of PQL queries &amp; its results<a href="#1-2-format-of-pql-queries-and-amp-its-results" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h2> <p>The file may contain multiple queries, one after another. Each query is defined using 5 lines, as shown in the following example. The text after ‚Üí is for illustration and clarity of explanation, and should not exist in the queries file.</p> <pre><code class="line-numbers">1 - comment                       ‚Üí Query ID and comment
while w;                          ‚Üí Declaration for PQL query
Select w such that Parent*(w, 7)  ‚Üí PQL query
1, 4                              ‚Üí Expected result of the query
5000                              ‚Üí Time limit (in milliseconds)
</code></pre> <p>The Query ID should be unique, although the AutoTester will run though if there are non-unique Query IDs. The expected result of the query in the queries file must not have duplicates, e.g. AutoTester will not run correctly if in the above query, <code class="line-numbers hljs inline no-lang">4,1,4</code> is used instead of <code class="line-numbers hljs inline no-lang">1,4</code>.</p> <p>The order of the results returned by your SPA is not important. The AutoTester will do the sorting of the results for you. The AutoTester will also remove any duplicates it finds in the answers returned by your SPA. For example, if you return the answers <code class="line-numbers hljs inline no-lang">[&quot;1&quot;, &quot;3&quot;, &quot;3&quot;, &quot;2&quot;, &quot;3&quot;]</code>, the AutoTester will consider your answers to be just <code class="line-numbers hljs inline no-lang">[&quot;1&quot;, &quot;2&quot; and &quot;3&quot;]</code>.</p> <p>Note that the results for procedure names and variable names are case-sensitive.</p> <h2 id="1-3-pql-queries-with-empty-results"><span id="1-3-pql-queries-with-empty-results" class="anchor"></span><a href="#13-pql-queries-with-empty-results"></a>1.3 PQL Queries with empty results<a href="#1-3-pql-queries-with-empty-results" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h2> <p>The AutoTester expects no results for a query if the query in the query file expects <code class="line-numbers hljs inline no-lang">none</code> as a result, or if there is a blank line. For example:</p> <pre><code class="line-numbers">1 - Impossible situation
stmt s;
Select s such that Follows*(s, s)
none
5000


1 - Impossible situation
stmt s;
Select s such that Follows*(s, s)

5000
</code></pre> <p>When you implements <code class="line-numbers hljs inline no-lang">virtual void evaluate(std::string query, std::list&lt;std::string&gt;&amp; results);</code> of <code class="line-numbers hljs inline no-lang">TestWrapper</code>, you must not insert any element into <code class="line-numbers hljs inline no-lang">std::list&lt;std::string&gt;&amp; results</code>. Do not populate the list results with any values, not even the keyword <code class="line-numbers hljs inline no-lang">none</code>. ie. <code class="line-numbers hljs inline no-lang">results.size() == 0</code> must be true if there are no results.</p> <h2 id="1-4-output-xml"><span id="1-4-output-xml" class="anchor"></span><a href="#14-output-xml"></a>1.4 Output XML<a href="#1-4-output-xml" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h2> <p><a href="/course-website/images/fig19.png" target="_self"><img src="/course-website/images/fig19.png" alt="" class="img-fluid"></a></p> <p>The AutoTester will compare the results returned by your SPA with the expected results shown in the file and decide if the query passed (total match) or failed (results are not matched). Once the testing is completed, an XML file is generated and you can view the results by opening the file using a browser (shown above).</p> <p>The XML would need the XML style file <code class="line-numbers hljs inline no-lang">analysis.xsl</code> to be in the same folder to be displayed correctly using the browser. You may find <code class="line-numbers hljs inline no-lang">analysis.xsl</code> in the <code class="line-numbers hljs inline no-lang">tests</code> folder of the startup solution.</p> <p>To open the XML file, you would need to:</p> <ol><li><p>In the file directory containing <code class="line-numbers hljs inline no-lang">.xsl</code> and <code class="line-numbers hljs inline no-lang">.xml</code> file, set up your own python local server in your command line. E.g.</p> <p><code class="line-numbers hljs inline no-lang">python -m http.server 8000</code></p></li> <li><p>In your preferred browser (e.g. Chrome, Firefox, Edge etc.), type in <code class="line-numbers hljs inline no-lang">localhost:8000</code> to access the file directory.</p></li> <li><p>Open the <code class="line-numbers hljs inline no-lang">.xml</code> file through the browser.</p></li></ol> <p>Remember to close your server in your command line. Alternatively, you do not need to set up your own python local server if you have Internet Explorer / Safari.</p> <h2 id="1-5-integration-between-spa-and-autotester"><span id="1-5-integration-between-spa-and-autotester" class="anchor"></span><a href="#15-integration-between-spa-and-autotester"></a>1.5. Integration between SPA and AutoTester<a href="#1-5-integration-between-spa-and-autotester" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h2> <p>To call your SPA code from AutoTester, you only need to implement the TestWrapper class (already located in the AutoTester project). The following is the source of TestWrapper.h:</p> <pre><code class="line-numbers">#ifndef TESTWRAPPER_H
#define TESTWRAPPER_H
#include &lt;string&gt;
#include &lt;iostream&gt;
#include &lt;list&gt;

// include your other headers here
#include &quot;AbstractWrapper.h&quot;

class TestWrapper : public AbstractWrapper {

 public:
  // default constructor
  TestWrapper();
  // destructor
  ~TestWrapper();

  // method for parsing the SIMPLE source
  virtual void parse(std::string filename);

  // method for evaluating a query
  virtual void evaluate(std::string query, std::list&lt;std::string&gt;&amp; results);

};
#endif
</code></pre> <p>First, in the header file <code class="line-numbers hljs inline no-lang">TestWrapper.h</code>, include any other header files necessary for compiling the TestWrapper class. If you need to use instance variables in your implementation, create a private section in the class specification and declare your instance variables there. Next, you need to implement the 3 methods specified in <code class="line-numbers hljs inline no-lang">TestWrapper.h</code> by writing code for the methods in <code class="line-numbers hljs inline no-lang">TestWrapper.cpp</code>:</p> <ol><li>The first method is the default constructor <code class="line-numbers hljs inline no-lang">TestWrapper()</code>, you can create objects that you will need later on for parsing and query evaluation. You can also do any initialization your need for your SPA here. Remember to also implement the destructor <code class="line-numbers hljs inline no-lang">~TestWrapper()</code>.</li> <li>For the method <code class="line-numbers hljs inline no-lang">virtual void parse(std::string filename);</code>, the AutoTester will pass the name of the SIMPLE source file through parameter &quot;filename&quot; of this method. What you need to do here is to write code that will invoke the parser/design extractor of your SPA to create the PKB components from the source file.</li> <li>For the method <code class="line-numbers hljs inline no-lang">virtual void evaluate(std::string query, std::list&lt;std::string&gt;&amp; results);</code>, it has 2 parameters: query will contain the query string while results will store the answers to the query. Here, you will write code that will invoke your SPA to evaluate the query. The answers to the query will be subsequently stored in the results list.</li></ol> <p>The AutoTester works in a cooperative mode. In other words, instead of forcing your program to stop whenever the time limit is reached during the evaluation of a query, it will first signal to your program to stop. Then, it waits for a couple of seconds for your program to do any clean up e.g. deallocating memory. If your program returns within the extended time limit, the AutoTester will continue with the next query. Otherwise, it will print out a message to inform us that the program has refused to terminate, in which case we will forcefully terminate the whole testing and give a full penalty for that query. To do the checking of the stop signal, you need to add some code into your own SPA program as sketched out in the following pseudocode:</p> <pre><code class="line-numbers">#include &quot;AbstractWrapper.h&quot;
.....
for each query_clause in query do
  evaluator.eval(query_clause)
  if (AbstractWrapper::GlobalStop) {
    // do cleanup
    ....
    return
          }
.....
</code></pre> <p>However, in many instances it is impossible to catch and implement the GlobalStop, so no penalty is applied if you do not implement it.</p> <h1 id="2-unit-integration-testing"><span id="2-unit-integration-testing" class="anchor"></span><a href="#2-unitintegration-testing"></a>2. Unit/Integration Testing<a href="#2-unit-integration-testing" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h1> <p>Unit and Integration Testing in handled differently on Visual Studio and CMake, using different testing frameworks. You can read more in the links below.</p> <ol><li>Windows Visual Studio Startup SPA Solution - <a href="https://docs.microsoft.com/en-us/visualstudio/test/writing-unit-tests-for-c-cpp?view=vs-2019#basic-test-workflow">Visual Studio Testing Framework</a></li> <li>Cross-platform Cmake Startup SPA Solution - <a href="https://github.com/catchorg/Catch2/blob/devel/docs/tutorial.md">Catch2</a></li></ol> <p>We have included some code stubs to start you off; screenshots are shown below for both project types. Fill in the test cases as needed for Unit Testing and Integration Testing.</p> <p><a href="/course-website/images/fig20.png" target="_self"><img src="/course-website/images/fig20.png" alt="" class="img-fluid"></a></p> <p><a href="/course-website/images/fig21.png" target="_self"><img src="/course-website/images/fig21.png" alt="" class="img-fluid"></a></p> <h1 id="3-query-timing-histogram"><span id="3-query-timing-histogram" class="anchor"></span><a href="#3-query-timing-histogram"></a>3. Query Timing Histogram<a href="#3-query-timing-histogram" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h1> <p>Query timings would be taken into consideration for grading. Please refer to wiki page [Guidelines Grading](Guidelines Grading)</p> <p>The discussion below is on the average query timing across all queries and it will be used primarily for grading. However, we can use the histogram curves to distinguish teams that are close. In the case where the strategy cannot be applied (ie. MacOS cannot be built on Windows), we will use our discretion (ie. use the adjusted MacOS timings) to maintain fairness as much as possible.</p> <p>We understand that different platform has different performance characteristics due to the differences in OS system calls and different compiler. Considering that, we will be using the following strategy to compare between teams:</p> <ul><li><p>All teams in each target platform would be consistently run on the same hardware with the same compiler/linker etc.</p></li> <li><p>All teams that have chosen Windows to be their target platform would be considered the common platform for comparison. Windows is chosen as the platform for comparison as the majority of the teams' target platform is Windows. Timings on other platforms would be converted to a Windows equivalent timing as a point in the comparison. Here, we define some useful metrics to enable non-Windows timings to be adjusted. The average time difference between Windows and Mac timings is given below and will only be used to adjust other teams' timings.</p> <p><a href="https://camo.githubusercontent.com/59374a5b82c37fec6b6b0f7711bea4689f6b418f70d33f91fb826330d9fdddb3/68747470733a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f2535436f7665726c696e6525374264656c74615f4d2537442532303d25323025354366726163253742312537442537422537432537432535436d61746862622537425725374425374325374325374425354373756d5f253742253543666f72616c6c25323069253230253543696e2532302535436d6174686262253742572537442537442874696d696e675f572535452537422869292537442532302d25323074696d696e675f4d25354525374228692925374429" target="_self"><img src="https://camo.githubusercontent.com/59374a5b82c37fec6b6b0f7711bea4689f6b418f70d33f91fb826330d9fdddb3/68747470733a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f2535436f7665726c696e6525374264656c74615f4d2537442532303d25323025354366726163253742312537442537422537432537432535436d61746862622537425725374425374325374325374425354373756d5f253742253543666f72616c6c25323069253230253543696e2532302535436d6174686262253742572537442537442874696d696e675f572535452537422869292537442532302d25323074696d696e675f4d25354525374228692925374429" alt="" class="img-fluid"></a>,</p> <p><a href="https://camo.githubusercontent.com/ce361b63ee568b8db1f83de0aff070b091f10111d507cfaa87614d5f3b5323ea/68747470733a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f2535436f7665726c696e6525374264656c74615f4c2537442532303d25323025354366726163253742312537442537422537432537432535436d61746862622537425725374425374325374325374425354373756d5f253742253543666f72616c6c25323069253230253543696e2532302535436d6174686262253742572537442537442874696d696e675f572535452537422869292537442532302d25323074696d696e675f4c25354525374228692925374429" target="_self"><img src="https://camo.githubusercontent.com/ce361b63ee568b8db1f83de0aff070b091f10111d507cfaa87614d5f3b5323ea/68747470733a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f2535436f7665726c696e6525374264656c74615f4c2537442532303d25323025354366726163253742312537442537422537432537432535436d61746862622537425725374425374325374325374425354373756d5f253742253543666f72616c6c25323069253230253543696e2532302535436d6174686262253742572537442537442874696d696e675f572535452537422869292537442532302d25323074696d696e675f4c25354525374228692925374429" alt="" class="img-fluid"></a>,</p> <p>where <a href="https://camo.githubusercontent.com/0ca5c86636d06a0399a6915621c84511a4b8ec78a2d8eb64a070da36bb9d9b04/68747470733a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f74696d696e675f57253545253742286929253744" target="_self"><img src="https://camo.githubusercontent.com/0ca5c86636d06a0399a6915621c84511a4b8ec78a2d8eb64a070da36bb9d9b04/68747470733a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f74696d696e675f57253545253742286929253744" alt="" class="img-fluid"></a> is the i-th SPA project timings on windows (project's target is Windows), <a href="https://camo.githubusercontent.com/023b8ad5fbb7da69d8f8c1d511d1571a9e11896f897cd0027012547bfe0a3443/68747470733a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f74696d696e675f4d253545253742286929253744" target="_self"><img src="https://camo.githubusercontent.com/023b8ad5fbb7da69d8f8c1d511d1571a9e11896f897cd0027012547bfe0a3443/68747470733a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f74696d696e675f4d253545253742286929253744" alt="" class="img-fluid"></a> is the same i-th SPA project but run on MacOS, <a href="https://camo.githubusercontent.com/9bc0223efc32424e293a40a049a64934477da2aee32cfb73af4bf33936f7320c/68747470733a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f74696d696e675f4c253545253742286929253744" target="_self"><img src="https://camo.githubusercontent.com/9bc0223efc32424e293a40a049a64934477da2aee32cfb73af4bf33936f7320c/68747470733a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f74696d696e675f4c253545253742286929253744" alt="" class="img-fluid"></a> is the same i-th SPA project but run on Linux, <a href="https://camo.githubusercontent.com/8b502ffc36bcd0f9e2129c974e45ecd360dbff4a2f7a1cafab7afd3a4176a758/68747470733a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f2535436d617468626225374257253744" target="_self"><img src="https://camo.githubusercontent.com/8b502ffc36bcd0f9e2129c974e45ecd360dbff4a2f7a1cafab7afd3a4176a758/68747470733a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f2535436d617468626225374257253744" alt="" class="img-fluid"></a> is the set of SPA project which has Windows as its target platform.</p></li> <li><p>All teams that have chosen MacOS to be their target platform would be built and run on both MacOS and on Windows. We will convert the MacOS timings to their Windows equivalents using the <a href="https://camo.githubusercontent.com/4aee43c19ebbcec888b393cec25a81448fab67172365ce8834e9251d85e7a1ee/68747470733a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f64656c74615f4d" target="_self"><img src="https://camo.githubusercontent.com/4aee43c19ebbcec888b393cec25a81448fab67172365ce8834e9251d85e7a1ee/68747470733a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f64656c74615f4d" alt="" class="img-fluid"></a> computed previously. We will also compile and run the SPA project in Windows directly and take the minimum of the 2 timings - Windows equivalent timing converted from MacOS timing and Windows timing of the MacOS project, to be the finalized timing:</p> <p><a href="https://camo.githubusercontent.com/28c0e8f163f851e080280a849af7651300e8cea600f4acb3f5af8db8540ed3b1/68747470733a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f2535436d696e2537422874696d696e675f4d2532302b25323064656c74615f4d2c25323074696d696e675f5729253744" target="_self"><img src="https://camo.githubusercontent.com/28c0e8f163f851e080280a849af7651300e8cea600f4acb3f5af8db8540ed3b1/68747470733a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f2535436d696e2537422874696d696e675f4d2532302b25323064656c74615f4d2c25323074696d696e675f5729253744" alt="" class="img-fluid"></a>,</p></li> <li><p>All teams that have chosen Linux would be processed in the same manner as the Mac teams, where instead of MacOS we will run on Linux and use the <a href="https://camo.githubusercontent.com/a23c5d35aa644bd0eb8e875d3c4056bc1d332062b3c7e2ae739267226c644e94/68747470733a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f64656c74615f4c" target="_self"><img src="https://camo.githubusercontent.com/a23c5d35aa644bd0eb8e875d3c4056bc1d332062b3c7e2ae739267226c644e94/68747470733a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f64656c74615f4c" alt="" class="img-fluid"></a> instead.</p></li> <li><p>Teams should not adjust the optimization flags and keep the configuration that was given. Optimization should be done through design.</p></li></ul> <h1 id="4-parsing-time-and-memory-usage"><span id="4-parsing-time-and-memory-usage" class="anchor"></span><a href="#4-parsing-time-and-memory-usage"></a>4. Parsing Time and Memory Usage<a href="#4-parsing-time-and-memory-usage" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h1> <p>Parsing time and memory usage would be taken into consideration for grading as the requirements of SPA as well. We discuss how to measure parsing time and memory usage in the subsequent subsections.</p> <h2 id="parsing-time"><span id="parsing-time" class="anchor"></span><a href="#parsing-time"></a>Parsing Time<a href="#parsing-time" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h2> <p>The XML file generated by the AutoTester contains parsing time. When opening the <code class="line-numbers hljs inline no-lang">out.xml</code> in a text editor, the following line would be shown.</p> <pre><code class="line-numbers">&lt;parsing_time_taken&gt;7.346000&lt;/parsing_time_taken&gt;
</code></pre> <p>Note the information is not shown when viewing the XML file using a browser.</p> <h2 id="memory-usage"><span id="memory-usage" class="anchor"></span><a href="#memory-usage"></a>Memory Usage<a href="#memory-usage" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h2> <p>We use a Python library <code class="line-numbers hljs inline no-lang">memory-profiler</code> to monitor the memory usage of the AutoTester. We provide instructions below if you are familiar with Python.</p> <ol><li><p>Make sure you have Python &gt;= 3.7 and matplotlib installed.</p></li> <li><p>Install memory-profiler library</p> <p>pip install -U memory-profiler</p></li> <li><p>Run AutoTester using the command below.</p> <p>mprof run -M -T 0.001 ./autotester ./Sample_source.txt ./Sample_queries.txt out.xml</p></li> <li><p>Check peak memory usage.</p> <p>mprof peak</p></li> <li><p>Plot memory usage vs. time.</p> <p>mprof plot</p></li></ol> <p>If you are not familiar with Python, we also provide a simple script <code class="line-numbers hljs inline no-lang">run_with_mprof.py</code> <a href="/course-website/archive/run_with_mprof.py">here</a>. You can run the script using the following command:</p> <pre><code class="line-numbers">python run_with_mprof.py -c .\autotester .\Sample_source.txt .\Sample_queries.txt .\out.xml -t 0.001
</code></pre> <i id="scroll-top-button" onclick="handleScrollTop()" aria-hidden="true" class="fa fa-arrow-circle-up fa-lg d-print-none"></i></div> <nav id="page-nav" data-v-e8c82f88><div class="nav-component slim-scroll" data-v-e8c82f88><a class="navbar-brand page-nav-title" href="#" data-v-e8c82f88>Chapters of This Page</a> <nav id="mb-page-nav" class="nav nav-pills flex-column my-0 small no-flex-wrap" data-v-e8c82f88><a class="nav-link py-1" href="#1-autotester" data-v-e8c82f88>1. AutoTester‚Äé</a> <nav class="nav nav-pills flex-column my-0 nested no-flex-wrap" data-v-e8c82f88><a class="nav-link py-1" href="#1-1-running-the-autotester" data-v-e8c82f88>1.1. Running the AutoTester‚Äé</a> <a class="nav-link py-1" href="#1-2-format-of-pql-queries-and-amp-its-results" data-v-e8c82f88>1.2 Format of PQL queries &amp; its results‚Äé</a> <a class="nav-link py-1" href="#1-3-pql-queries-with-empty-results" data-v-e8c82f88>1.3 PQL Queries with empty results‚Äé</a> <a class="nav-link py-1" href="#1-4-output-xml" data-v-e8c82f88>1.4 Output XML‚Äé</a> <a class="nav-link py-1" href="#1-5-integration-between-spa-and-autotester" data-v-e8c82f88>1.5. Integration between SPA and AutoTester‚Äé</a></nav> <a class="nav-link py-1" href="#2-unit-integration-testing" data-v-e8c82f88>2. Unit/Integration Testing‚Äé</a> <a class="nav-link py-1" href="#3-query-timing-histogram" data-v-e8c82f88>3. Query Timing Histogram‚Äé</a> <a class="nav-link py-1" href="#4-parsing-time-and-memory-usage" data-v-e8c82f88>4. Parsing Time and Memory Usage‚Äé</a> <nav class="nav nav-pills flex-column my-0 nested no-flex-wrap" data-v-e8c82f88><a class="nav-link py-1" href="#parsing-time" data-v-e8c82f88>Parsing Time‚Äé</a> <a class="nav-link py-1" href="#memory-usage" data-v-e8c82f88>Memory Usage‚Äé</a></nav> <!----></nav></div> <!----></nav></div> <footer><div class="text-center"><small>[Generated by <a href="https://markbind.org/">MarkBind 4.0.2</a>]</small></div></footer></div>
</body><script src="../../markbind/js/bootstrap-utility.min.js"></script>
<script>
  MarkBind.setupWithSearch()
</script>
</html>
